@model System.Collections.Generic.IEnumerable<MusicHub.Song>

@section js {
    <script type="text/javascript" src="~/scripts/knockout-2.2.0.debug.js"></script>

    <script type="text/javascript" src="~/scripts/jquery-1.8.2.js"></script>
    <script type="text/javascript" src="~/scripts/jquery.signalr-0.5.3.js"></script>

    <script type="text/javascript" src="~/signalr/hubs"></script>
    <script type="text/javascript" src="~/scripts/musichub.js"></script>

    <script type="text/html" id="user-template">
        <li data-bind="text: display"></li>
    </script>

    <script type="text/html" id="log-row">
        <div data-bind="text: $value"></div>
    </script>
}

<div class="now-playing" data-bind="visible: currentSongTitle">
    <h1 data-bind="text: currentSongTitle"></h1>
    <h2 data-bind="text: currentSongArtist"></h2>

    <img class="artist-image" alt="artist image" />

    <p class="artist-description"></p>
    <p class="track-description"></p>

    <div id="music-controls">
        <span class="status" data-bind="text: currentStatus"></span>
        <span class="progress"></span>
        <input type="button" name="music-control" value="hate" data-bind="click: hate" />
        <input type="button" name="music-control" value="love" data-bind="click: love" />

        @if (this.Request.IsLocal) {
        <input type="button" name="music-control" value="stop" data-bind="visible: canStop, click: stop" />
        <input type="button" name="music-control" value="play" data-bind="visible: canPlay, click: play" />
        <input type="button" name="music-control" value="skip" data-bind="visible: canSkip, click: next" />
        }
    </div>

</div>

<div class="users-container">
    <h1>Users</h1>

    <ul class="users" data-bind="template: { name: 'user-template', foreach: users }" />
</div>

<div class='status' data-bind="template: { name: 'log-row', foreach: log }"></div>